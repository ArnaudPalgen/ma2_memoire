# send 2 upward frames: OK
lora_mac-INFO-  2021-07-31 19:04:59,169-Init MAC
lora_phy-INFO-  2021-07-31 19:04:59,169-Init PHY
lora_phy-INFO-  2021-07-31 19:04:59,173-PHY TX:mac pause
lora_phy-INFO-  2021-07-31 19:04:59,188-PHY TX:radio set freq 868100000
lora_phy-INFO-  2021-07-31 19:04:59,202-PHY TX:radio set wdt 0
lora_phy-INFO-  2021-07-31 19:04:59,211-PHY TX:radio rx 0
main-DEBUG-  2021-07-31 19:05:00,895-[4: INFO: Interface ] Button pushed
main-DEBUG-  2021-07-31 19:05:00,895-[4: INFO: LoRa MAC  ] Init LoRa MAC
main-DEBUG-  2021-07-31 19:05:00,895-[4: INFO: LoRa MAC  ] Node ID: 24859
main-DEBUG-  2021-07-31 19:05:00,896-[4: INFO: LoRa MAC  ] New Link-layer address: 5f75.6d6f.6e73.611b[4: INFO: LoRa MAC  ]
main-DEBUG-  2021-07-31 19:05:00,896-[4: DBG : LoRa MAC  ] initial state: 0
main-DEBUG-  2021-07-31 19:05:00,909-[4: INFO: LoRa PHY  ] Init LoRa PHY
main-DEBUG-  2021-07-31 19:05:00,909-[4: DBG : LoRa MAC  ] SET retransmit timer
main-DEBUG-  2021-07-31 19:05:00,910-[4: DBG : LoRa MAC  ] initialization complete
main-DEBUG-  2021-07-31 19:05:00,910-[4: INFO: LoRa PHY  ] PHY TX:mac pause
main-DEBUG-  2021-07-31 19:05:00,927-[4: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:00,928-[4: INFO: LoRa PHY  ] PHY TX:radio set freq 868100000
main-DEBUG-  2021-07-31 19:05:00,947-[4: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:00,947-[4: INFO: LoRa PHY  ] PHY TX:radio set wdt 0
main-DEBUG-  2021-07-31 19:05:00,959-[4: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:00,959-[4: INFO: LoRa PHY  ] PHY TX:radio tx 1B611B0100000000
main-DEBUG-  2021-07-31 19:05:01,968-[5: INFO: LoRa PHY  ] PHY RX:k
main-DEBUG-  2021-07-31 19:05:01,969-[5: INFO: LoRa PHY  ] PHY TX:radio set wdt 3000
main-DEBUG-  2021-07-31 19:05:01,982-[5: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:01,984-[5: INFO: LoRa PHY  ] PHY TX:radio rx 0
lora_phy-INFO-  2021-07-31 19:05:01,993-PHY RX:1B611B0100000000
lora_mac-DEBUG-  2021-07-31 19:05:01,993-RX process receive
lora_mac-DEBUG-  2021-07-31 19:05:01,994-RX process set is_listen=False
lora_mac-DEBUG-  2021-07-31 19:05:01,994-RX process: call mac_rx
lora_mac-DEBUG-  2021-07-31 19:05:01,994-MAC RX: LoraFrame(src_addr=LoraAddr(prefix=27, node_id=24859), dest_addr=LoraAddr(prefix=1, node_id=0), command=<MacCommand.JOIN: 0>, payload='', seq=0, k=False, has_next=False)
lora_mac-DEBUG-  2021-07-31 19:05:01,995-look child with prefix: 27
lora_mac-DEBUG-  2021-07-31 19:05:01,996-child is: None
lora_mac-INFO-  2021-07-31 19:05:01,996-reveive join frame LoraFrame(src_addr=LoraAddr(prefix=27, node_id=24859), dest_addr=LoraAddr(prefix=1, node_id=0), command=<MacCommand.JOIN: 0>, payload='', seq=0, k=False, has_next=False)
lora_mac-DEBUG-  2021-07-31 19:05:01,996-new child Child(2:24859) created
lora_mac-DEBUG-  2021-07-31 19:05:01,996-send join response
lora_phy-INFO-  2021-07-31 19:05:01,996-MAC send:LoraFrame(src_addr=LoraAddr(prefix=1, node_id=0), dest_addr=LoraAddr(prefix=27, node_id=24859), command=<MacCommand.JOIN_RESPONSE: 1>, payload='02', seq=0, k=False, has_next=False)
lora_mac-DEBUG-  2021-07-31 19:05:01,996-RX process: mac_rx end
lora_phy-INFO-  2021-07-31 19:05:01,997-PHY TX:radio tx 0100001B611B010002
lora_mac-DEBUG-  2021-07-31 19:05:01,997-RX process acquire lock for can_listen
lora_mac-DEBUG-  2021-07-31 19:05:01,997-can listen: True
lora_mac-DEBUG-  2021-07-31 19:05:01,997-is_listen: False
lora_phy-INFO-  2021-07-31 19:05:03,001-PHY TX:radio rx 0
main-DEBUG-  2021-07-31 19:05:03,058-[6: INFO: LoRa PHY  ] PHY RX:0100001B611B010002
main-DEBUG-  2021-07-31 19:05:03,058-[6: INFO: LoRa MAC  ] RX LoRa frame: {src:1:0 dest:27:24859 k:0 seq:0 next:0 cmd:1 data:02
main-DEBUG-  2021-07-31 19:05:03,059-[6: DBG : LoRa MAC  ] JOIN RESPONSE
main-DEBUG-  2021-07-31 19:05:03,061-[6: DBG : LoRa MAC  ] state = READY
main-DEBUG-  2021-07-31 19:05:03,077-[6: DBG : LoRa MAC  ] STOP retransmit timer
main-DEBUG-  2021-07-31 19:05:03,077-[6: INFO: LoRa MAC  ] Lora Root joined
main-DEBUG-  2021-07-31 19:05:03,078-[6: INFO: LoRa MAC  ] Node addr: 2:24859
main-DEBUG-  2021-07-31 19:05:03,078-[6: DBG : LoRa MAC  ] START TX_PROCESS
main-DEBUG-  2021-07-31 19:05:03,079-[6: DBG : LoRa MAC  ] MAC_TX process started
main-DEBUG-  2021-07-31 19:05:03,080-[6: DBG : LoRa MAC  ] SET query timer
------------------------------------------------------------------------------------
------------------------------------------------------------------------------------
main-DEBUG-  2021-07-31 19:05:13,051-[16: INFO: LoRa MAC  ] Query timeout !
main-DEBUG-  2021-07-31 19:05:13,051-[16: DBG : LoRa MAC  ] STOP query timer thanks to query_timeout
main-DEBUG-  2021-07-31 19:05:13,052-[16: DBG : LoRa MAC  ] query frame built
main-DEBUG-  2021-07-31 19:05:13,072-[16: DBG : LoRa MAC  ] Enter enqueue_packet with frame: {src:2:24859 dest:1:0 k:0 seq:1 next:0 cmd:6 data:
main-DEBUG-  2021-07-31 19:05:13,073-[16: DBG : LoRa MAC  ] append to buffer
main-DEBUG-  2021-07-31 19:05:13,074-[16: DBG : LoRa MAC  ] post new_tx_frame_event to TX_PROCESS
main-DEBUG-  2021-07-31 19:05:13,076-[16: DBG : LoRa MAC  ] frame from buffer: {src:2:24859 dest:1:0 k:0 seq:1 next:0 cmd:6 data:
main-DEBUG-  2021-07-31 19:05:13,079-[16: DBG : LoRa MAC  ] buffer size: 0
main-DEBUG-  2021-07-31 19:05:13,095-[16: DBG : LoRa MAC  ] frame sended to PHY layer
main-DEBUG-  2021-07-31 19:05:13,099-[16: DBG : LoRa MAC  ] START retransmit timer in mac_tx process
main-DEBUG-  2021-07-31 19:05:13,109-[16: DBG : LoRa MAC  ] Listen during 3 s
main-DEBUG-  2021-07-31 19:05:13,110-[16: DBG : LoRa MAC  ] wait state change to READY
main-DEBUG-  2021-07-31 19:05:13,112-[16: INFO: LoRa PHY  ] PHY TX:radio set wdt 0
main-DEBUG-  2021-07-31 19:05:13,117-[16: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:13,119-[16: INFO: LoRa PHY  ] PHY TX:radio tx 02611B0100000601
main-DEBUG-  2021-07-31 19:05:14,117-[17: INFO: LoRa PHY  ] PHY RX:k
main-DEBUG-  2021-07-31 19:05:14,117-[17: INFO: LoRa PHY  ] PHY TX:radio set wdt 3000
main-DEBUG-  2021-07-31 19:05:14,131-[17: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:14,132-[17: INFO: LoRa PHY  ] PHY TX:radio rx 0
lora_phy-INFO-  2021-07-31 19:05:14,141-PHY RX:02611B0100000601
lora_mac-DEBUG-  2021-07-31 19:05:14,142-RX process receive
lora_mac-DEBUG-  2021-07-31 19:05:14,142-RX process set is_listen=False
lora_mac-DEBUG-  2021-07-31 19:05:14,142-RX process: call mac_rx
lora_mac-DEBUG-  2021-07-31 19:05:14,142-MAC RX: LoraFrame(src_addr=LoraAddr(prefix=2, node_id=24859), dest_addr=LoraAddr(prefix=1, node_id=0), command=<MacCommand.QUERY: 6>, payload='', seq=1, k=False, has_next=False)
lora_mac-DEBUG-  2021-07-31 19:05:14,142-look child with prefix: 2
lora_mac-DEBUG-  2021-07-31 19:05:14,142-child is: Child(2:24859)
lora_mac-DEBUG-  2021-07-31 19:05:14,142-In _on_query
lora_phy-INFO-  2021-07-31 19:05:14,146-MAC send:LoraFrame(src_addr=LoraAddr(prefix=1, node_id=0), dest_addr=LoraAddr(prefix=2, node_id=24859), command=<MacCommand.DATA: 2>, payload='ABC', seq=1, k=False, has_next=True)
lora_mac-DEBUG-  2021-07-31 19:05:14,146-RX process: mac_rx end
lora_phy-INFO-  2021-07-31 19:05:14,146-PHY TX:radio tx 01000002611B4201ABC0
lora_mac-DEBUG-  2021-07-31 19:05:14,147-RX process acquire lock for can_listen
lora_mac-DEBUG-  2021-07-31 19:05:14,147-can listen: False
lora_mac-DEBUG-  2021-07-31 19:05:14,147-is_listen: False
lora_phy-INFO-  2021-07-31 19:05:15,148-MAC send:LoraFrame(src_addr=LoraAddr(prefix=1, node_id=0), dest_addr=LoraAddr(prefix=2, node_id=24859), command=<MacCommand.DATA: 2>, payload='DEF', seq=2, k=False, has_next=False)
lora_phy-INFO-  2021-07-31 19:05:15,152-PHY TX:radio tx 01000002611B0202DEF0
main-DEBUG-  2021-07-31 19:05:15,209-[18: INFO: LoRa PHY  ] PHY RX:01000002611B4201ABC0
main-DEBUG-  2021-07-31 19:05:15,211-[18: INFO: LoRa MAC  ] RX LoRa frame: {src:1:0 dest:2:24859 k:0 seq:1 next:1 cmd:2 data:ABC0
main-DEBUG-  2021-07-31 19:05:15,212-[18: INFO: LoRa MAC  ] ON_DATA!
main-DEBUG-  2021-07-31 19:05:15,215-[18: DBG : LoRa MAC  ] STOP retransmit and query timeout
main-DEBUG-  2021-07-31 19:05:15,220-[18: WARN: LoRa MAC  ] lost 0 frames
main-DEBUG-  2021-07-31 19:05:15,221-[18: DBG : LoRa MAC  ] More data will follow -> listen
main-DEBUG-  2021-07-31 19:05:15,222-[18: INFO: LoRa PHY  ] PHY TX:radio set wdt 3000
main-DEBUG-  2021-07-31 19:05:15,234-[18: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:15,237-[18: INFO: LoRa PHY  ] PHY TX:radio rx 0
main-DEBUG-  2021-07-31 19:05:16,213-[19: INFO: LoRa PHY  ] PHY RX:01000002611B0202DEF0
main-DEBUG-  2021-07-31 19:05:16,214-[19: INFO: LoRa MAC  ] RX LoRa frame: {src:1:0 dest:2:24859 k:0 seq:2 next:0 cmd:2 data:DEF0
main-DEBUG-  2021-07-31 19:05:16,215-[19: INFO: LoRa MAC  ] ON_DATA!
main-DEBUG-  2021-07-31 19:05:16,216-[19: DBG : LoRa MAC  ] STOP retransmit and query timeout
main-DEBUG-  2021-07-31 19:05:16,229-[19: WARN: LoRa MAC  ] lost 0 frames
main-DEBUG-  2021-07-31 19:05:16,230-[19: DBG : LoRa MAC  ] no data follows -> state=Ready and restart query_timer
main-DEBUG-  2021-07-31 19:05:16,231-[19: DBG : LoRa MAC  ] state is READY
main-DEBUG-  2021-07-31 19:05:16,232-[19: WARN: LoRa MAC  ] buf not empty: 0
main-DEBUG-  2021-07-31 19:05:26,207-[29: INFO: LoRa MAC  ] Query timeout !
main-DEBUG-  2021-07-31 19:05:26,207-[29: DBG : LoRa MAC  ] STOP query timer thanks to query_timeout
main-DEBUG-  2021-07-31 19:05:26,208-[29: DBG : LoRa MAC  ] query frame built
main-DEBUG-  2021-07-31 19:05:26,228-[29: DBG : LoRa MAC  ] Enter enqueue_packet with frame: {src:2:24859 dest:1:0 k:0 seq:2 next:0 cmd:6 data:
main-DEBUG-  2021-07-31 19:05:26,229-[29: DBG : LoRa MAC  ] append to buffer
main-DEBUG-  2021-07-31 19:05:26,230-[29: DBG : LoRa MAC  ] post new_tx_frame_event to TX_PROCESS
main-DEBUG-  2021-07-31 19:05:26,231-[29: DBG : LoRa MAC  ] frame from buffer: {src:2:24859 dest:1:0 k:0 seq:2 next:0 cmd:6 data:
main-DEBUG-  2021-07-31 19:05:26,232-[29: DBG : LoRa MAC  ] buffer size: 0
main-DEBUG-  2021-07-31 19:05:26,251-[29: DBG : LoRa MAC  ] frame sended to PHY layer
main-DEBUG-  2021-07-31 19:05:26,252-[29: DBG : LoRa MAC  ] START retransmit timer in mac_tx process
main-DEBUG-  2021-07-31 19:05:26,253-[29: DBG : LoRa MAC  ] Listen during 3 s
main-DEBUG-  2021-07-31 19:05:26,254-[29: DBG : LoRa MAC  ] wait state change to READY
main-DEBUG-  2021-07-31 19:05:26,255-[29: INFO: LoRa PHY  ] PHY TX:radio set wdt 0
main-DEBUG-  2021-07-31 19:05:26,267-[29: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:26,268-[29: INFO: LoRa PHY  ] PHY TX:radio tx 02611B0100000602
main-DEBUG-  2021-07-31 19:05:27,273-[30: INFO: LoRa PHY  ] PHY RX:k
main-DEBUG-  2021-07-31 19:05:27,273-[30: INFO: LoRa PHY  ] PHY TX:radio set wdt 3000
main-DEBUG-  2021-07-31 19:05:27,287-[30: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:27,288-[30: INFO: LoRa PHY  ] PHY TX:radio rx 0
main-DEBUG-  2021-07-31 19:05:30,296-[33: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:31,254-[34: INFO: LoRa MAC  ] retransmit timeout !
main-DEBUG-  2021-07-31 19:05:31,254-[34: ERR : LoRa MAC  ] STOP retransmit timer thanks to retransmit_timeout
main-DEBUG-  2021-07-31 19:05:31,257-[34: DBG : LoRa MAC  ] retransmit frame: {src:2:24859 dest:1:0 k:0 seq:2 next:0 cmd:6 data:
main-DEBUG-  2021-07-31 19:05:31,262-[34: ERR : LoRa MAC  ] RESTART retransmit timer because a frame was retransmit
main-DEBUG-  2021-07-31 19:05:31,263-[34: INFO: LoRa PHY  ] PHY TX:radio set wdt 0
main-DEBUG-  2021-07-31 19:05:31,274-[34: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:31,275-[34: INFO: LoRa PHY  ] PHY TX:radio tx 02611B0100000602
main-DEBUG-  2021-07-31 19:05:32,283-[35: INFO: LoRa PHY  ] PHY RX:k
main-DEBUG-  2021-07-31 19:05:32,284-[35: INFO: LoRa PHY  ] PHY TX:radio set wdt 3000
main-DEBUG-  2021-07-31 19:05:32,297-[35: INFO: LoRa PHY  ] PHY RX:
main-DEBUG-  2021-07-31 19:05:32,298-[35: INFO: LoRa PHY  ] PHY TX:radio rx 0
main-ERROR-  2021-07-31 19:05:33,222-
 Type:<class 'KeyboardInterrupt'>
 Value:
 Traceback:<traceback object at 0x7f9e184d8840>
NoneType: None
